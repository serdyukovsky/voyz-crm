# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üìã –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

### ‚úÖ 1. PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ Homebrew
- **–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞**: `brew services start postgresql@15`
- **–ü–æ—Ä—Ç**: 5432
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `postgres` (–ø–∞—Ä–æ–ª—å: `postgres`)

### ‚úÖ 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
- **–ò–º—è –ë–î**: `crm`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î**: `postgres`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞

### ‚úÖ 3. –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω
**–ü—É—Ç—å**: `crm-backend/.env`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
```env
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/crm?schema=public"
JWT_ACCESS_SECRET="local_jwt_dev_secret"
JWT_REFRESH_SECRET="local_refresh_secret"
PORT=3001
NODE_ENV=development
FRONTEND_URL=http://localhost:3000
SMTP_HOST="localhost"
SMTP_PORT=1025
SMTP_USER=""
SMTP_PASSWORD=""
SMTP_SECURE=false
```

### ‚úÖ 4. –ú–∏–≥—Ä–∞—Ü–∏–∏ Prisma –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- **–ú–∏–≥—Ä–∞—Ü–∏—è**: `20251122184950_init`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- **–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã**: users, deals, contacts, companies, tasks, activities, –∏ –¥—Ä.

### ‚úÖ 5. –ê–¥–º–∏–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
- **Email**: `admin@local.dev`
- **Password**: `admin123`
- **Role**: `ADMIN`
- **Password Hash**: `$2b$10$nX0yBUqsN475rdrDCGWnM.2GuwYSOFG5PfxKwB47MAFK.F2G5v2ry`
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: bcrypt (10 rounds)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω

### ‚úÖ 6. Backend –∑–∞–ø—É—â–µ–Ω
- **–ü–æ—Ä—Ç**: 3001
- **URL**: http://localhost:3001
- **Swagger**: http://localhost:3001/api/docs
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ 7. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
**–ó–∞–ø—Ä–æ—Å**:
```bash
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@local.dev","password":"admin123"}'
```

**–û—Ç–≤–µ—Ç**:
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "9372c29f-e12f-4884-94df-de8956ba3b45",
    "email": "admin@local.dev",
    "firstName": "Admin",
    "lastName": "User",
    "role": "ADMIN",
    "isActive": true
  }
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `.env` (crm-backend/.env)
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ DATABASE_URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `crm` –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ JWT —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã

### 2. SQL –∫–æ–º–∞–Ω–¥—ã (–≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER postgres WITH PASSWORD 'postgres' SUPERUSER;

-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE crm;
```

### 3. –ú–∏–≥—Ä–∞—Ü–∏–∏ Prisma
- **–ü—É—Ç—å**: `crm-backend/prisma/migrations/20251122184950_init/migration.sql`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã, enum'—ã, –∏–Ω–¥–µ–∫—Å—ã –∏ —Å–≤—è–∑–∏

### 4. –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–ü—É—Ç—å**: `crm-backend/scripts/create-admin-bcrypt.ts`
- **–ö–æ–º–∞–Ω–¥–∞**: `npm run create:admin:local`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –°–æ–∑–¥–∞–µ—Ç –∞–¥–º–∏–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

## üîê –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞

**Email**: `admin@local.dev`  
**Password**: `admin123`  
**Role**: `ADMIN`

**Password Hash**: `$2b$10$nX0yBUqsN475rdrDCGWnM.2GuwYSOFG5PfxKwB47MAFK.F2G5v2ry`

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –ó–∞–ø—É—Å–∫ backend
```bash
cd crm-backend
npm run start:dev
```

### –ó–∞–ø—É—Å–∫ PostgreSQL
```bash
brew services start postgresql@15
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```bash
cd crm-backend
npm run create:admin:local
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
cd crm-backend
npx prisma migrate dev
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
cd crm-backend
npm run prisma:studio
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. ‚úÖ PostgreSQL –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5432
2. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `crm` —Å–æ–∑–¥–∞–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞
3. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
4. ‚úÖ –ê–¥–º–∏–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
5. ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
6. ‚úÖ API `/auth/login` –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
7. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç access_token –∏ user)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–∞—Ä–æ–ª—å –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ **bcrypt** (10 rounds)
- Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Ö–µ—à–∞ (bcrypt –∏–ª–∏ argon2)
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª–µ
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3001/api/docs

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
1. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ `admin@local.dev` / `admin123`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ API endpoints
3. –†–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Prisma Studio
4. –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CRM



