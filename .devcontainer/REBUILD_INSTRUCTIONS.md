# Инструкция по пересборке Codespace

## Способ 1: Через меню Codespaces (Самый простой)

1. **Нажмите на иконку Codespaces** в правом верхнем углу (или три точки `...`)
2. Выберите **"Rebuild Container"** или **"Rebuild"**
3. Подтвердите действие
4. Дождитесь завершения пересборки (2-5 минут)

## Способ 2: Через Command Palette

1. Нажмите `F1` или `Ctrl+Shift+P` (Windows/Linux) / `Cmd+Shift+P` (Mac)
2. Введите: `Codespaces: Rebuild Container`
3. Нажмите Enter
4. Дождитесь завершения

## Способ 3: Через GitHub веб-интерфейс

1. Откройте ваш репозиторий на GitHub
2. Перейдите в раздел **"Codespaces"**
3. Найдите ваш активный Codespace
4. Нажмите на три точки `...` рядом с Codespace
5. Выберите **"Rebuild"**

## Что произойдет после пересборки

✅ Контейнер пересоберется с Ubuntu 22.04 (вместо Alpine)
✅ Автоматически установятся все зависимости
✅ Настроится PostgreSQL
✅ Сгенерируется Prisma Client
✅ Применятся миграции базы данных

## После пересборки выполните:

```bash
# 1. Создать администратора (если еще не создан)
cd crm-backend
npm run create:admin

# 2. Запустить бэкенд
npm run dev

# 3. В другом терминале - запустить фронтенд
cd ../CRM
npm run dev
```

## Важно

- ⚠️ Все ваши файлы сохранятся
- ⚠️ Несохраненные изменения в открытых файлах могут быть потеряны - сохраните их перед пересборкой
- ⚠️ Процессы будут остановлены во время пересборки
- ✅ После пересборки Prisma будет работать корректно на Ubuntu

## Если что-то пошло не так

Если после пересборки возникли проблемы:

1. Проверьте логи в терминале
2. Убедитесь, что файл `.devcontainer/devcontainer.json` существует
3. Попробуйте создать новый Codespace вместо пересборки существующего

