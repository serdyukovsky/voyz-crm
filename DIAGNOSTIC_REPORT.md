# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Backend: –ü–æ—á–µ–º—É –Ω–µ –≤–∏–¥–Ω—ã Deals –∏ Contacts

## üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–î–µ—Ç–∞–ª–∏**:
- **–ò—Å—Ç–æ—á–Ω–∏–∫ —Ç–æ–∫–µ–Ω–∞**: `ExtractJwt.fromAuthHeaderAsBearerToken()` - —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ header `Authorization: Bearer <token>`
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: `JwtStrategy` –≤ `src/auth/strategies/jwt.strategy.ts`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î —Å permissions
- **Guard**: `JwtAuthGuard` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö endpoints
- **–ü—Ä–æ–±–ª–µ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ**: –¢–æ–∫–µ–Ω —á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ header

**–ö–æ–¥**:
```typescript
// src/auth/strategies/jwt.strategy.ts
jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken()
```

---

### ‚ö†Ô∏è 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ userId –≤ Deals –∏ Contacts

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê –ù–ï –í –§–ò–õ–¨–¢–†–ê–¶–ò–ò**

**–î–µ—Ç–∞–ª–∏**:
- **DealsService.findAll()**: –ù–ï–¢ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ `userId` –∏–ª–∏ `assignedToId` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **ContactsService.findAll()**: –ù–ï–¢ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ `userId`
- **–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è ADMIN —Ä–æ–ª–∏** - –∞–¥–º–∏–Ω –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö **0 —Å–¥–µ–ª–æ–∫ –∏ 0 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤**

**–ö–æ–¥ DealsService**:
```typescript
// src/deals/deals.service.ts:76
const deals = await this.prisma.deal.findMany({
  where, // where —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –±–µ–∑ userId
  include: { ... },
});
```

**–ö–æ–¥ ContactsService**:
```typescript
// src/contacts/contacts.service.ts:172
const contacts = await this.prisma.contact.findMany({
  where, // where —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –±–µ–∑ userId
  include: { ... },
});
```

**–í—ã–≤–æ–¥**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç –≤ –ë–î.

---

### ‚úÖ 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–î–µ—Ç–∞–ª–∏**:
- **Guard**: `RbacGuard` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö endpoints
- **DealsController**: `@Roles(UserRole.ADMIN, UserRole.MANAGER, UserRole.VIEWER)` - –≤—Å–µ —Ä–æ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å
- **ContactsController**: –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- **ADMIN –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø**: –í `JwtStrategy.getUserPermissions()` –¥–ª—è ADMIN –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ permissions

**–ö–æ–¥**:
```typescript
// src/deals/deals.controller.ts
@Get()
@Roles(UserRole.ADMIN, UserRole.MANAGER, UserRole.VIEWER)
findAll(...) { ... }
```

---

### ‚úÖ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Prisma –º–æ–¥–µ–ª–µ–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ú–æ–¥–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

**Deal –º–æ–¥–µ–ª—å**:
- ‚úÖ `createdById` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (String, NOT NULL)
- ‚úÖ `assignedToId` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ (String?)
- ‚úÖ –°–≤—è–∑–∏: `createdBy User @relation("DealCreator")`, `assignedTo User? @relation("DealAssignee")`

**Contact –º–æ–¥–µ–ª—å**:
- ‚úÖ –ù–ï–¢ –ø—Ä—è–º–æ–≥–æ –ø–æ–ª—è `userId` (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∫–æ–Ω—Ç–∞–∫—Ç—ã –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
- ‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–≤—è–∑–∞–Ω—ã —Å –∫–æ–º–ø–∞–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ `companyId`

**–í—ã–≤–æ–¥**: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–µ–π –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–¥–µ–ª–æ–∫ `createdById` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è.

---

### ‚ùå 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ seed –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ç—É—Å**: ‚ùå **–û–°–ù–û–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê**

**–î–µ—Ç–∞–ª–∏**:
- **–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**: 0 —Å–¥–µ–ª–æ–∫, 0 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, 0 –∫–æ–º–ø–∞–Ω–∏–π, 0 –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
- **Seed —Å–∫—Ä–∏–ø—Ç**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω
- **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ù–µ —Å–æ–∑–¥–∞–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î**:
```sql
SELECT COUNT(*) FROM deals;      -- 0
SELECT COUNT(*) FROM contacts;    -- 0
SELECT COUNT(*) FROM companies;   -- 0
SELECT COUNT(*) FROM pipelines;   -- 0
```

**–†–µ—à–µ–Ω–∏–µ**: –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.

---

### ‚úÖ 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ API

**–°—Ç–∞—Ç—É—Å**: ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã

**–¢–µ—Å—Ç GET /api/deals**:
```bash
curl -X GET "http://localhost:3001/api/deals" \
  -H "Authorization: Bearer <token>"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `[]` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤) - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –≤ –ë–î –Ω–µ—Ç —Å–¥–µ–ª–æ–∫

**–¢–µ—Å—Ç GET /api/contacts**:
```bash
curl -X GET "http://localhost:3001/api/contacts" \
  -H "Authorization: Bearer <token>"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `[]` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤) - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –≤ –ë–î –Ω–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**–í—ã–≤–æ–¥**: API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö.

---

### ‚úÖ 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket

**–°—Ç–∞—Ç—É—Å**: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è initial fetch

**–î–µ—Ç–∞–ª–∏**:
- WebSocket –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- Initial fetch –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ REST API (`GET /api/deals`, `GET /api/contacts`)
- WebSocket –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### ‚ùå **–û–°–ù–û–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê**: –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞**: 
- –í —Ç–∞–±–ª–∏—Ü–µ `deals` - 0 –∑–∞–ø–∏—Å–µ–π
- –í —Ç–∞–±–ª–∏—Ü–µ `contacts` - 0 –∑–∞–ø–∏—Å–µ–π
- –í —Ç–∞–±–ª–∏—Ü–µ `companies` - 0 –∑–∞–ø–∏—Å–µ–π
- –í —Ç–∞–±–ª–∏—Ü–µ `pipelines` - 0 –∑–∞–ø–∏—Å–µ–π

**–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –≤–∏–¥–∏—Ç —Å–¥–µ–ª–∫–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã** - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç.

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ Guards –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. ‚úÖ –†–æ–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. ‚úÖ API endpoints –æ—Ç–≤–µ—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. ‚úÖ Prisma –º–æ–¥–µ–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

1. ‚ùå **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
2. ‚ö†Ô∏è **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ `assignedToId` –¥–ª—è MANAGER/VIEWER —Ä–æ–ª–µ–π (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

## üîß –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `create-test-data.ts`:

```bash
cd crm-backend
npm run create:test-data
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç:
- 1 –ø–∞–π–ø–ª–∞–π–Ω —Å 6 —Å—Ç–∞–¥–∏—è–º–∏
- 5 –∫–æ–º–ø–∞–Ω–∏–π
- 8 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- 10 —Å–¥–µ–ª–æ–∫
- 5 –∑–∞–¥–∞—á

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î
psql -U postgres -d crm -c "SELECT COUNT(*) FROM deals;"
psql -U postgres -d crm -c "SELECT COUNT(*) FROM contacts;"
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
TOKEN=$(curl -s -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@local.dev","password":"admin123"}' \
  | python3 -c "import sys, json; print(json.load(sys.stdin).get('access_token', ''))")

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–¥–µ–ª–∫–∏
curl -X GET "http://localhost:3001/api/deals" \
  -H "Authorization: Bearer $TOKEN"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã
curl -X GET "http://localhost:3001/api/contacts" \
  -H "Authorization: Bearer $TOKEN"
```

---

## üìù –§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª**: `crm-backend/scripts/create-test-data.ts`

**–°—Ç–∞—Ç—É—Å**: –°–æ–∑–¥–∞–Ω, –Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ TypeScript (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fullName` –≤–º–µ—Å—Ç–æ `firstName`/`lastName`, `assignedToId` –≤–º–µ—Å—Ç–æ `assignedUserId`)

### 2. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è MANAGER/VIEWER

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã MANAGER –∏ VIEWER –≤–∏–¥–µ–ª–∏ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏:

**–§–∞–π–ª**: `crm-backend/src/deals/deals.service.ts`

```typescript
async findAll(filters: DealFilterDto, userId?: string, userRole?: UserRole) {
  const where: any = {};

  // –î–ª—è MANAGER –∏ VIEWER - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏
  if (userRole !== UserRole.ADMIN && userId) {
    where.assignedToId = userId;
  }

  // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã...
  if (filters?.pipelineId) where.pipelineId = filters.pipelineId;
  // ...
}
```

**–§–∞–π–ª**: `crm-backend/src/deals/deals.controller.ts`

```typescript
@Get()
findAll(
  @Query() filters: DealFilterDto,
  @CurrentUser() user: any,
) {
  return this.dealsService.findAll(filters, user.userId, user.role);
}
```

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö (0 —Å–¥–µ–ª–æ–∫, 0 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤).

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `create-test-data.ts`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ 10 —Å–¥–µ–ª–æ–∫ —Å–æ–∑–¥–∞–Ω–æ
- ‚úÖ 8 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ
- ‚úÖ 5 –∫–æ–º–ø–∞–Ω–∏–π —Å–æ–∑–¥–∞–Ω–æ
- ‚úÖ 1 –ø–∞–π–ø–ª–∞–π–Ω —Å 6 —Å—Ç–∞–¥–∏—è–º–∏ —Å–æ–∑–¥–∞–Ω
- ‚úÖ 5 –∑–∞–¥–∞—á —Å–æ–∑–¥–∞–Ω–æ
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ: `GET /api/deals` ‚Üí 10 items, `GET /api/contacts` ‚Üí 8 items

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```bash
# –í –ë–î
SELECT COUNT(*) FROM deals;      -- 10
SELECT COUNT(*) FROM contacts;   -- 8
SELECT COUNT(*) FROM companies;  -- 5

# –ß–µ—Ä–µ–∑ API
GET /api/deals    ‚Üí 10 items ‚úÖ
GET /api/contacts ‚Üí 8 items ‚úÖ
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê** - –¢–µ–ø–µ—Ä—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å —Å–¥–µ–ª–∫–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**: –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–ª—è MANAGER/VIEWER, –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã.

