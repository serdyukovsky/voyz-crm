# Task Indicator Implementation for Deal Cards

## Overview
ะะพะฑะฐะฒะปะตะฝะฐ ะธะฝะดะธะบะฐัะธั ัะฒัะทะฐะฝะฝัั ะทะฐะดะฐั ะฒ ะบะฐััะพัะบะฐั ัะดะตะปะพะบ ะฝะฐ ะบะฐะฝะฑะฐะฝะต. ะะพะผะฟะพะฝะตะฝั ะฟะพะบะฐะทัะฒะฐะตั ะฒะธะทัะฐะปัะฝัะน ะธะฝะดะธะบะฐัะพั ะธ ะบะพะปะธัะตััะฒะพ ะดะฝะตะน ะฟัะพััะพัะบะธ ะดะปั ะฐะบัะธะฒะฝัั ะทะฐะดะฐั.

## What's Changed

### 1. New Component: TaskIndicator
**File**: `components/crm/task-indicator.tsx`

ะะพะผะฟะพะฝะตะฝั ะพัะพะฑัะฐะถะฐะตั ะธะฝะดะธะบะฐัะพั ััะฐัััะฐ ะทะฐะดะฐั ะฒ ะฟัะฐะฒะพะผ ะฝะธะถะฝะตะผ ัะณะปั ะบะฐััะพัะบะธ ัะดะตะปะบะธ.

**ะะพะณะธะบะฐ ัะฐะฑะพัั:**
- ะัะปะธ ะฝะตั ะฐะบัะธะฒะฝัั ะทะฐะดะฐั โ ะบะพะผะฟะพะฝะตะฝั ะฝะต ะพัะพะฑัะฐะถะฐะตััั
- ะัะปะธ ะตััั ะฐะบัะธะฒะฝะฐั ะทะฐะดะฐัะฐ, ะฝะพ ะฝะตั ะฟัะพััะพัะบะธ โ **ะถะตะปััะน ะบััะถะพะบ** (2.5px)
- ะัะปะธ ะตััั ะฟัะพััะพัะตะฝะฝะฐั ะทะฐะดะฐัะฐ โ **ะบัะฐัะฝัะน ะบััะถะพะบ** + ัะตะบัั "X ะดะฝ." ัะปะตะฒะฐ ะพั ะบััะถะบะฐ

**Features:**
- ะะฟัะตะดะตะปัะตั ะผะฐะบัะธะผะฐะปัะฝะพะต ะบะพะปะธัะตััะฒะพ ะดะฝะตะน ะฟัะพััะพัะบะธ ััะตะดะธ ะฒัะตั ะฐะบัะธะฒะฝัั ะทะฐะดะฐั
- ะะณะฝะพัะธััะตั ะทะฐะฒะตัััะฝะฝัะต ะทะฐะดะฐัะธ (ััะฐัััั: `completed` ะธะปะธ `done`)
- ะะพะดะดะตัะถะธะฒะฐะตั ะทะฐะดะฐัะธ ะฑะตะท ะดะตะดะปะฐะนะฝะฐ (ะพัะพะฑัะฐะถะฐัััั ะบะฐะบ ะฐะบัะธะฒะฝัะต)
- ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฐ ั memo ะดะปั ะธะทะฑะตะถะฐะฝะธั ะฝะตะฝัะถะฝัั re-renders

### 2. Updated Component: DealCard
**File**: `components/crm/deal-card.tsx`

- ะะพะฑะฐะฒะปะตะฝ import `TaskIndicator`
- TaskIndicator ะดะพะฑะฐะฒะปะตะฝ ะฒ footer (ะฟัะฐะฒัะน ะฝะธะถะฝะธะน ัะณะพะป) ะฟะพัะปะต ะฒัะตะผะตะฝะธ ะพะฑะฝะพะฒะปะตะฝะธั
- ะะฑะฝะพะฒะปะตะฝะฐ ะปะพะณะธะบะฐ ััะฐะฒะฝะตะฝะธั ะฒ memo ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะธะทะผะตะฝะตะฝะธะน ะทะฐะดะฐั

### 3. Updated Interface: Deal
**File**: `components/crm/kanban-board.tsx`

ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต ะฒ ะธะฝัะตััะตะนั:
```typescript
tasks?: Array<{
  id: string
  status: string
  deadline: string | null
}>
```

## Visual Layout

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โก Deal Title                โ
โ Client Name                 โ
โ $12,000                     โ
โ [Stage Pill]                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [Avatar] John    12m ago ๐ก โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะะปะธ ั ะฟัะพััะพัะบะพะน:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [Avatar] John    12m ago 5 ะดะฝ. ๐ดโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Styling

- **ะะตะปััะน ะบััะถะพะบ (ะฐะบัะธะฒะฝะฐั ะทะฐะดะฐัะฐ)**: `bg-yellow-400` ั shadow
- **ะัะฐัะฝัะน ะบััะถะพะบ (ะฟัะพััะพัะตะฝะฝะฐั)**: `bg-red-500` ั shadow
- **ะะฐะทะผะตั**: h-2.5 w-2.5 (10px ร 10px)
- **ะขะตะบัั ะฟัะพััะพัะบะธ**: text-xs, font-medium, red-600

## Usage Example

```tsx
<DealCard
  deal={{
    id: "1",
    title: "Enterprise Deal",
    client: "Acme Corp",
    amount: 45000,
    stage: "new",
    assignedTo: { name: "John Smith", avatar: "JS" },
    updatedAt: "2024-01-15T10:30:00Z",
    tasks: [
      {
        id: "task-1",
        status: "in_progress",
        deadline: "2026-01-17" // 5 days overdue
      }
    ]
  }}
  stage={{ id: "new", label: "New", color: "#6B7280" }}
/>
```

## Task Status Detection

ะะพะผะฟะพะฝะตะฝั ััะธัะฐะตั ะทะฐะดะฐัั **ะฐะบัะธะฒะฝะพะน**, ะตัะปะธ:
- status โ 'completed' ะ status โ 'done'

ะะพะผะฟะพะฝะตะฝั ััะธัะฐะตั ะทะฐะดะฐัั **ะฟัะพััะพัะตะฝะฝะพะน**, ะตัะปะธ:
- ะะฐะดะฐัะฐ ะฐะบัะธะฒะฝะฐ ะ ะดะตะดะปะฐะนะฝ < ัะตะณะพะดะฝั (00:00)

## Performance Optimizations

- `React.memo` ะธัะฟะพะปัะทัะตััั ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะฝะตะฝัะถะฝัั re-renders
- ะกัะฐะฒะฝะตะฝะธะต ะทะฐะดะฐั ััะธััะฒะฐะตั ัะพะปัะบะพ id, status ะธ deadline
- ะคัะฝะบัะธะธ ะดะปั ะฟัะพะฒะตัะบะธ ะฟัะพััะพัะบะธ ะธัะฟะพะปัะทััั Date ั ะฝัะปะตะฒัะผะธ ัะฐัะฐะผะธ ะดะปั ะบะพััะตะบัะฝะพะณะพ ััะฐะฒะฝะตะฝะธั

## Integration Notes

- ะะพะผะฟะพะฝะตะฝั ัะฐะฑะพัะฐะตั ั ะดะฐะฝะฝัะผะธ ะธะท API (tasks ะฟะตัะตะดะฐัััั ะฒ DealCard)
- ะกะพะฒะผะตััะธะผ ั WebSocket ะพะฑะฝะพะฒะปะตะฝะธัะผะธ (memo ะพััะปะตะถะธะฒะฐะตั ะธะทะผะตะฝะตะฝะธั)
- ะะต ััะตะฑัะตั ะดะพะฟะพะปะฝะธัะตะปัะฝัั API ะทะฐะฟัะพัะพะฒ
- ะะพะดะดะตัะถะธะฒะฐะตั ะปะพะบะฐะปะธะทะฐัะธั (ััััะบะธะน ัะตะบัั ัะถะต ะฒัััะพะตะฝ)

## Compatibility

- โ React 18+
- โ TypeScript
- โ Tailwind CSS
- โ react-router-dom
- โ Responsive design
